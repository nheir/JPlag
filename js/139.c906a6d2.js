"use strict";(self["webpackChunkreport_viewer"]=self["webpackChunkreport_viewer"]||[]).push([[139],{708:function(e,i,t){t.d(i,{g:function(){return o}});var s=t(2482);class o{constructor(e,i,t,o,n,a,r,l,c,d,u){(0,s.Z)(this,"_submissionFolderPath",void 0),(0,s.Z)(this,"_baseCodeFolderPath",void 0),(0,s.Z)(this,"_language",void 0),(0,s.Z)(this,"_fileExtensions",void 0),(0,s.Z)(this,"_matchSensitivity",void 0),(0,s.Z)(this,"_submissionIdsToComparisonFileName",void 0),(0,s.Z)(this,"_dateOfExecution",void 0),(0,s.Z)(this,"_durationOfExecution",void 0),(0,s.Z)(this,"_metrics",void 0),(0,s.Z)(this,"_clusters",void 0),(0,s.Z)(this,"_totalComparisons",void 0),this._submissionFolderPath=e,this._baseCodeFolderPath=i,this._language=t,this._fileExtensions=o,this._matchSensitivity=n,this._dateOfExecution=a,this._durationOfExecution=r,this._metrics=l,this._clusters=c,this._submissionIdsToComparisonFileName=u,this._totalComparisons=d}get submissionIdsToComparisonFileName(){return this.submissionIdsToComparisonFileName}get submissionFolderPath(){return this._submissionFolderPath}get baseCodeFolderPath(){return this._baseCodeFolderPath}get language(){return this._language}get fileExtensions(){return this._fileExtensions}get matchSensitivity(){return this._matchSensitivity}get dateOfExecution(){return this._dateOfExecution}get durationOfExecution(){return this._durationOfExecution}get metrics(){return this._metrics}get clusters(){return this._clusters}get totalComparisons(){return this._totalComparisons}}},7372:function(e,i,t){t.d(i,{K:function(){return l}});var s=t(2482),o=t(708),n=t(7840),a=JSON.parse('{"E":{"major":4,"minor":3,"patch":0}}'),r=t(5941);class l{static getOverview(e){const i=e.jplag_version,t={major:i.major,minor:i.minor,patch:i.patch};l.compareVersions(t,this.reportViewerVersion);const s=e.submission_folder_path,a="",r=e.language,c=e.file_extensions,d=e.match_sensitivity,u=e.submission_id_to_display_name,m=new Map(Object.entries(u)),v=e.date_of_execution,p=e.execution_time,h=[],f=[],g=e.total_comparisons;return e.metrics.forEach((e=>{const i=e,t=[];i.topComparisons.forEach(((e,i)=>{const s={id:i+1,firstSubmissionId:e.first_submission,secondSubmissionId:e.second_submission,similarity:e.similarity};t.push(s)})),h.push({metricName:i.name,metricThreshold:i.threshold,distribution:i.distribution,comparisons:t,description:i.description})})),n.Z.commit("saveSubmissionNames",m),e.clusters&&e.clusters.forEach((e=>{const i=e,t={averageSimilarity:i.average_similarity,strength:i.strength,members:i.members};f.push(t)})),l.saveSubmissionsToComparisonNameMap(e),new o.g(s,a,r,c,d,v,p,h,f,g,new Map)}static compareVersions(e,i){null===sessionStorage.getItem("versionAlert")&&(0===i.major&&0===i.minor&&0===i.patch&&alert("The development version (0.0.0) of JPlag is used."),e.major===i.major&&e.minor===i.minor&&e.patch===i.patch||(-1===i.major&&-1===i.minor&&-1===i.patch?r.warn("The report viewer's version cannot be read from version.json file. Please configure it correctly."):(r.warn("The result's version tag does not fit the report viewer's version. Trying to read it anyhow but be careful."),alert("The result's version("+e.major+"."+e.minor+"."+e.patch+") tag does not fit the report viewer's version("+i.major+"."+i.minor+"."+i.patch+"). Trying to read it anyhow but be careful."))),sessionStorage.setItem("versionAlert","true"))}static saveSubmissionsToComparisonNameMap(e){const i=e.submission_ids_to_comparison_file_name,t=Object.entries(i),s=new Map;for(const[o,n]of t)s.set(o,new Map(Object.entries(n)));n.Z.commit("saveComparisonFileLookup",s)}}(0,s.Z)(l,"reportViewerVersion",void 0!==a.E?a.E:{major:-1,minor:-1,patch:-1})},8952:function(e,i,t){t.d(i,{Z:function(){return v}});var s=t(3396),o=t(7139);const n={class:"container"},a={class:"column-list"},r=["onClick"];function l(e,i,t,l,c,d){return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",a,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.ids,((i,t)=>((0,s.wg)(),(0,s.iD)("p",{key:t,class:(0,o.C_)({selected:!e.store.state.anonymous.has(i)&&0!==e.store.state.anonymous.size}),onClick:t=>e.emitIdsSent([i])},(0,o.zw)(e.store.getters.submissionDisplayName(i)),11,r)))),128))]),(0,s._)("button",{onClick:i[0]||(i[0]=i=>e.emitIdsSent(e.ids))},"Hide/Show all")])}var c=t(7840),d=(0,s.aZ)({emits:["idSent"],name:"IDsList",props:{ids:{type:Array,required:!0}},setup(e,{emit:i}){const t=e=>{i("idSent",e)};return{store:c.Z,emitIdsSent:t}}}),u=t(89);const m=(0,u.Z)(d,[["render",l],["__scopeId","data-v-fa56f466"]]);var v=m},6803:function(e,i,t){t.d(i,{Z:function(){return h}});var s=t(3396),o=t(7139),n=t.p+"img/help_outline_black_18dp.92160fb9.svg";const a=e=>((0,s.dD)("data-v-5f3c273b"),e=e(),(0,s.Cn)(),e),r={class:"metric-name"},l={class:"tooltip"},c=a((()=>(0,s._)("img",{alt:"?",src:n},null,-1))),d={class:"tooltiptext"};function u(e,i,t,n,a,u){return(0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)(["wrapper",{selected:e.isSelected}])},[(0,s._)("div",null,[(0,s._)("p",r,(0,o.zw)(e.metric.metricName),1),(0,s._)("div",l,[c,(0,s._)("span",d,(0,o.zw)(e.metric.description),1)])])],2)}var m=(0,s.aZ)({name:"MetricButton",props:{metric:{type:Object,required:!0},isSelected:{type:Boolean,default:!1}},setup(){return{}}}),v=t(89);const p=(0,v.Z)(m,[["render",u],["__scopeId","data-v-5f3c273b"]]);var h=p},5513:function(e,i,t){t.d(i,{Z:function(){return y}});var s=t(3396),o=t(7139),n=t(6108),a=t(6838);const r=e=>((0,s.dD)("data-v-043c3160"),e=e(),(0,s.Cn)(),e),l={class:"wrapper"},c={class:"text-container"},d={class:"label-text"},u=["title"],m={key:0,alt:"hide info",src:n},v={key:1,alt:"additional info",src:a},p={class:"additional-info-title"},h=r((()=>(0,s._)("hr",null,null,-1)));function f(e,i,t,n,a,r){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",l,[(0,s._)("div",c,[(0,s._)("p",d,(0,o.zw)(e.label),1),(0,s._)("p",{class:(0,o.C_)([{anonymous:e.anonymous},"value-text"]),title:e.anonymous?"":e.value},(0,o.zw)(e.anonymous?"Hidden":e.value),11,u)]),(0,s._)("button",{class:(0,o.C_)([{hidden:!e.hasAdditionalInfo},"collapse-button"]),onClick:i[0]||(i[0]=(...i)=>e.toggleIsCollapsed&&e.toggleIsCollapsed(...i))},[e.isCollapsed?((0,s.wg)(),(0,s.iD)("img",m)):((0,s.wg)(),(0,s.iD)("img",v))],2)]),(0,s._)("div",{class:(0,o.C_)([{hidden:!e.isCollapsed},"additional-info"])},[(0,s._)("p",p,(0,o.zw)(e.additionalInfoTitle),1),(0,s.WI)(e.$slots,"default",{},void 0,!0)],2),h],64)}var g=t(4870),_=(0,s.aZ)({name:"TextInformation",props:{label:{type:String,required:!0},value:{required:!0},hasAdditionalInfo:{type:Boolean,default:!1},additionalInfoTitle:{type:String,default:""},anonymous:{type:Boolean,default:!1}},setup(){const e=(0,g.iH)(!1),i=()=>e.value=!e.value;return{isCollapsed:e,toggleIsCollapsed:i}}}),b=t(89);const w=(0,b.Z)(_,[["render",f],["__scopeId","data-v-043c3160"]]);var y=w},4419:function(e,i,t){t.r(i),t.d(i,{default:function(){return H}});var s=t(3396),o=t(7139),n=t(5174);const a=e=>((0,s.dD)("data-v-279cd1c8"),e=e(),(0,s.Cn)(),e),r={class:"container"},l={class:"column-container",style:{width:"30%"}},c=a((()=>(0,s._)("h1",null,"JPlag Report",-1))),d=a((()=>(0,s._)("p",{class:"section-title"},"Main Info:",-1))),u={id:"basicInfo"},m=["title"],v=a((()=>(0,s._)("div",{id:"logo-section"},[(0,s._)("img",{id:"logo",alt:"JPlag",src:n})],-1))),p={class:"column-container",style:{width:"100%"}},h={id:"metrics"},f=a((()=>(0,s._)("p",{class:"section-title"},"Metric:",-1))),g={id:"metrics-list"};function _(e,i,t,n,a,_){const b=(0,s.up)("TextInformation"),w=(0,s.up)("IDsList"),y=(0,s.up)("MetricButton"),C=(0,s.up)("GridTable");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",l,[c,d,(0,s._)("div",u,[(0,s.Wm)(b,{"has-additional-info":e.hasMoreSubmissionPaths,value:e.submissionPathValue,"additional-info-title":"",label:"Directory path"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.overview.submissionFolderPath,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e,title:e},(0,o.zw)(e),9,m)))),128))])),_:1},8,["has-additional-info","value"]),(0,s.Wm)(b,{"has-additional-info":!0,value:e.overview.language,"additional-info-title":"File extensions:",label:"Language"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.overview.fileExtensions,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e},(0,o.zw)(e),1)))),128))])),_:1},8,["value"]),(0,s.Wm)(b,{value:e.overview.matchSensitivity,label:"Match Sensitivity"},null,8,["value"]),(0,s.Wm)(b,{"has-additional-info":!0,value:e.store.getters.getSubmissionIds.size,"additional-info-title":"Submission IDs:",label:"Submissions"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{ids:e.store.getters.getSubmissionIds,onIdSent:e.handleId},null,8,["ids","onIdSent"])])),_:1},8,["value"]),(0,s.Wm)(b,{value:e.overview.dateOfExecution,label:"Date of execution"},null,8,["value"]),(0,s.Wm)(b,{value:e.overview.durationOfExecution,label:"Duration (in ms)"},null,8,["value"])]),v]),(0,s._)("div",p,[(0,s._)("div",h,[f,(0,s._)("div",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.overview.metrics,((i,t)=>((0,s.wg)(),(0,s.j4)(y,{id:i.metricName,key:i.metricName,"is-selected":e.selectedMetric[t],metric:i,onClick:i=>e.selectMetric(t)},null,8,["id","is-selected","metric","onClick"])))),128))])]),(0,s.Wm)(C,{overview:e.overview,topComps:e.topComps[e.selectedMetricIndex],class:"full-width"},null,8,["overview","topComps"])])])}var b=t(4870),w=t(3824),y=t(5513),C=t(6803),I=t(7372),S=t(8952),x=t(65),Z=t(708);const k={class:"grid-table-container"},D=["viewBox"],O=["x","y","fill","title","onClick"];function j(e,i,t,n,a,r){return(0,s.wg)(),(0,s.iD)("div",k,[((0,s.wg)(),(0,s.iD)("svg",{width:"100%",viewBox:"0 0 "+10*e.ids.length+" "+10*e.ids.length},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.ids,((i,t)=>((0,s.wg)(),(0,s.iD)("g",{key:i},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.ids,((n,a)=>((0,s.wg)(),(0,s.iD)("rect",{key:n,x:10*a,y:10*t,width:"10",height:"10",fill:e.simToColor(e.comps[i][n]),title:i,onClick:t=>e.navigateToComparisonView(i,n)},[(0,s._)("title",null,(0,o.zw)(i)+" "+(0,o.zw)(n),1)],8,O)))),128))])))),128))],8,D))])}t(6699);var T=(0,s.aZ)({name:"GridTable",props:{overview:{type:Z.g,required:!0},topComps:{type:Array,required:!0}},setup(e){const i=(0,x.oR)();let t={};for(const a of e.topComps)a.firstSubmissionId in t||(t[a.firstSubmissionId]={}),a.secondSubmissionId in t||(t[a.secondSubmissionId]={}),t[a.firstSubmissionId][a.secondSubmissionId]=a.similarity,t[a.secondSubmissionId][a.firstSubmissionId]=a.similarity;let s=new Array;for(const a of e.overview.clusters)for(const e of a.members)s.includes(e)||s.push(e);for(const a of Object.keys(t))s.includes(a)||s.push(a);const o=(e,t)=>{i.state.single||w.Z.push({name:"ComparisonView",params:{firstId:e,secondId:t}})},n=e=>void 0==e?"black":`hsl(${120-180*e} 90% 50%)`;return{comps:t,ids:s,navigateToComparisonView:o,simToColor:n}}}),E=t(89);const M=(0,E.Z)(T,[["render",j],["__scopeId","data-v-73333310"]]);var F=M,P=t(5941),N=(0,s.aZ)({name:"OverviewView",components:{IDsList:S.Z,MetricButton:C.Z,TextInformation:y.Z,GridTable:F},setup(){const e=(0,x.oR)(),i=(0,s.Fl)((()=>{P.log("Start finding overview.json in state...");const i=Object.keys(e.state.files).find((e=>e.endsWith("overview.json")));return void 0!=i?e.state.files[i]:P.log("Could not find overview.json")})),o=()=>{let s;if(P.log("Generating overview..."),e.state.local)try{s=I.K.getOverview(t(Object(function(){var e=new Error("Cannot find module '../files/overview.json'");throw e.code="MODULE_NOT_FOUND",e}())))}catch(o){w.Z.back()}else if(e.state.zip){if(void 0===i.value)return new Z.g([],"","",[],0,"",0,[],[],0,new Map);const e=JSON.parse(i.value);s=I.K.getOverview(e)}else e.state.single&&(s=I.K.getOverview(JSON.parse(e.state.fileString)));return s};let n=o();const a=i=>{i.length===e.getters.getSubmissionIds.length?e.state.anonymous.size>0?e.commit("resetAnonymous"):e.commit("addAnonymous",i):e.state.anonymous.has(i[0])?e.commit("removeAnonymous",i):0===e.state.anonymous.size?e.commit("addAnonymous",e.getters.getSubmissionIds.filter((e=>e!==i[0]))):e.commit("addAnonymous",i)};let r=(0,b.iH)(n.metrics.map((()=>!1))),l=(0,b.iH)(0);r.value[l.value]=!0;const c=e=>{r.value=r.value.map((()=>!1)),r.value[e]=!0,l.value=e};let d=(0,b.iH)(n.metrics.map((e=>e.comparisons)));const u=n.submissionFolderPath.length>1,m=u?"Click arrow to see all paths":n.submissionFolderPath[0];return(0,s.d1)((()=>(w.Z.push({name:"ErrorView",state:{message:"Overview.json can't be found!",to:"/",routerInfo:"back to FileUpload page"}}),e.commit("clearStore"),!1))),{overview:n,selectedMetricIndex:l,selectedMetric:r,topComps:d,hasMoreSubmissionPaths:u,submissionPathValue:m,handleId:a,selectMetric:c,store:e}}});const z=(0,E.Z)(N,[["render",_],["__scopeId","data-v-279cd1c8"]]);var H=z},6838:function(e,i,t){e.exports=t.p+"img/keyboard_double_arrow_down_black_18dp.1dc03f43.svg"},6108:function(e,i,t){e.exports=t.p+"img/keyboard_double_arrow_up_black_18dp.5defbec8.svg"},5174:function(e,i,t){e.exports=t.p+"img/logo-nobg.fe65cd9a.png"},2482:function(e,i,t){function s(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}t.d(i,{Z:function(){return s}})}}]);
//# sourceMappingURL=139.c906a6d2.js.map